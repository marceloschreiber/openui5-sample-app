sap.ui.require(["sap/ui/test/Opa5","sap/ui/test/matchers/AggregationLengthEquals","sap/ui/test/matchers/PropertyStrictEquals","sap/ui/test/matchers/Properties","sap/ui/test/actions/EnterText","sap/ui/test/actions/Press"],function(e,t,s,n,r,i){"use strict";var a="sap.ui.demo.todo.view.App";var o="addTodoItemInput";var c="searchTodoItemsInput";var m="todoList";var u="clearCompleted";e.createPageObjects({onTheAppPage:{actions:{iEnterTextForNewItemAndPressEnter:function(e){return this.waitFor({id:o,viewName:a,actions:[new r({text:e})],errorMessage:"The text cannot be entered"})},iEnterTextForSearchAndPressEnter:function(e){return this.waitFor({id:c,viewName:a,actions:[new r({text:e})],errorMessage:"The text cannot be entered"})},iSelectTheLastItem:function(e){return this.waitFor({id:m,viewName:a,actions:[function(t){var s=t.getItems().length;var n=t.getItems()[s-1].getContent()[0].getItems()[0];this._triggerCheckboxSelection(n,e)}.bind(this)],errorMessage:"Last checkbox cannot be pressed"})},iSelectAllItems:function(e){return this.waitFor({id:m,viewName:a,actions:[function(t){t.getItems().forEach(function(t){var s=t.getContent()[0].getItems()[0];this._triggerCheckboxSelection(s,e)}.bind(this))}.bind(this)],errorMessage:"checkbox cannot be pressed"})},_triggerCheckboxSelection:function(e,t){if(e.getSelected()&&!t||!e.getSelected()&&t){var s=new i;s.controlAdapters["sap.m.CustomListItem"]="selectMulti-CB";s.executeOn(e)}},iClearTheCompletedItems:function(){return this.waitFor({id:u,viewName:a,actions:[new i],errorMessage:"checkbox cannot be pressed"})},iFilterForItems:function(e){return this.waitFor({viewName:a,controlType:"sap.m.SegmentedButtonItem",matchers:[new n({key:e})],actions:[new i],errorMessage:"SegmentedButton can not be pressed"})}},assertions:{iShouldSeeTheItemBeingAdded:function(n,r){return this.waitFor({id:m,viewName:a,matchers:[new t({name:"items",length:n}),function(e){var t=e.getItems().length;var n=e.getItems()[t-1].getContent()[0].getItems()[1].getItems()[0];return new s({name:"text",value:r}).isMatching(n)}],success:function(){e.assert.ok(true,"The table has "+n+" item(s), with '"+r+"' as last item")},errorMessage:"List does not have expected entry '"+r+"'."})},iShouldSeeTheLastItemBeingCompleted:function(t){return this.waitFor({id:m,viewName:a,matchers:[function(e){var s=e.getItems().length;var n=e.getItems()[s-1].getContent()[0].getItems()[0];return t&&n.getSelected()||!t&&!n.getSelected()}],success:function(){e.assert.ok(true,"The last item is marked as completed")},errorMessage:"The last item is not disabled."})},iShouldSeeAllButOneItemBeingRemoved:function(n){return this.waitFor({id:m,viewName:a,matchers:[new t({name:"items",length:1}),function(e){var t=e.getItems()[0].getContent()[0].getItems()[1].getItems()[0];return new s({name:"text",value:n}).isMatching(t)}],success:function(){e.assert.ok(true,"The table has 1 item, with '"+n+"' as Last item")},errorMessage:"List does not have expected entry '"+n+"'."})},iShouldSeeItemCount:function(s){return this.waitFor({id:m,viewName:a,matchers:[new t({name:"items",length:s})],success:function(){e.assert.ok(true,"The table has "+s+" item(s)")},errorMessage:"List does not have expected number of items '"+s+"'."})}}}})});